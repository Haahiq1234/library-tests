<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <script src="Canvas.js"></script>
    <script>
        function setUp() {
            createCanvas(400, 400);
            frameRate(60);
            console.log(sub("52619", "79562"));
        }
        function draw() {
            clear();
        }
        function key_Press() {

        }
        function sub(na, nb) {
            let ns = sameEnds(na, nb);
            na = ns[0];
            nb = ns[1];

            let d = na.indexOf(".");

            na = na.replace(".", "");
            nb = nb.replace(".", "");

            let pos = "";
            let neg = "";

            for (var i = 0; i < na.length; i++) {
                let a = parseInt(na[i]);
                let b = parseInt(nb[i]);
                let sum = a - b;
                if (sum < 0) {
                    neg += "" + (-sum);
                    pos += "0";
                } else {
                    pos += "" + sum;
                    neg += "0";                    
                }
            }
            
            let preOff = "";
            let mn = neg;
            let mx = pos;
            if (Equality.relation(neg, pos) == Equality.Greater) {
                preOff = "-"
            }
            let ans = ;
            for () {

            }

            console.log(pos, neg);
        }
        const Equality = {
            relation: function (a, b) {
                let ns = sameEnds(a, b);
                a = ns[0];
                b = ns[1];
                for (var i = 0; i < a.length; i++) {
                    if (a[i] == b[i]) {
                        continue;
                    } else if (a[i] < b[i]) {
                        return this.Lesser;
                    } else {
                        return this.Greater;
                    }
                }
                return this.Equal;
            },
            Equal: 0,
            Greater: 1,
            Lesser: 2,
        };

        function trimNumber(n) {
            for (var i = 0; i < n.length; i++) {
                if (n[i] == 0) {
                    n = n.slice(1, n.length);
                } else {
                    break;
                }
            }
            for (var i = n.length - 1; i >= 0; i--) {
                if (n[i] == 0) {
                    n = n.slice(0, n.length - 1);
                } else {
                    break;
                }
            }
            if (n[n.length - 1] == ".") {
                n = n.slice(0, n.length - 1);
            }
            //console.log(n);
            return n;
        }
        function multnvn(na, nb) {
            let ns = sameEnds(na, nb);
            na = ns[0];
            nb = ns[1];

            let d = na.indexOf(".");
            let id = d * 2;
            if (id > 1) {
                id--;
            }
            na = na.replace(".", "");
            nb = nb.replace(".", "");
            let arr = [];
            let lstn;
            for (var i = na.length - 1; i >= 0; i--) {
                let ii = na.length - i;
                let a = na[i];
                //console.log(nb, a);
                let sum = multnv1(a, nb);
                //console.log(sum);
                for (var j = 0; j < ii - 1; j++) {
                    sum = sum + "0";
                }
                arr.push(sum);
            }
            let lsts = arr[arr.length - 1];
            if (lsts.length > nb.length) {
                id++;
            }

            let ans = "";
            for (var i = 0; i < arr.length; i++) {
                ans = add(ans, arr[i]);
                //console.log(arr[i]);
            }
            if (id < ans.length && id >= 0) {
                ans = insertString(ans, ".", id);
            }
            return ans;
        }
        let carried = false;
        function multnv1(n, na) {
            let d = na.indexOf(".");
            na = na.replace(".", "");
            let carry = "";
            let ans = "";
            let b = parseInt(n);
            for (var i = na.length - 1; i >= 0; i--) {
                let a = parseInt(na[i]);
                let sum = a * b;
                if (i < na.length - 1) {
                    sum = parseInt(carry[0]) + sum;
                }
                let m = floorDiv(sum, 10);
                carry = "" + m + carry;
                sum -= m * 10;
                //console.log(sum, m);
                ans = "" + sum + ans;
            }
            //console.log(ans);
            if (d < ans.length && d >= 0) {
                ans = insertString(ans, ".", d);
            }
            let c = parseInt(carry[0]);
            if (c > 0) {
                ans = "" + c + ans;
            }


            //console.log(na, nb, ans, carry);
            return ans;
        }
        function add(na, nb) {
            let ns = sameEnds(na, nb);
            na = ns[0];
            nb = ns[1];

            let d = na.indexOf(".");
            na = na.replace(".", "");
            nb = nb.replace(".", "");
            let carry = "";
            let ans = "";
            for (var i = na.length - 1; i >= 0; i--) {
                let a = parseInt(na[i]);
                let b = parseInt(nb[i]);
                //console.log(a, b);
                if (parseInt) {

                }
                let sum = a + b;
                if (i < na.length - 1) {
                    sum = parseInt(carry[0]) + sum;
                }
                let m = floorDiv(sum, 10);
                carry = "" + m + carry;
                sum -= m * 10;
                //console.log(sum, m);
                ans = "" + sum + ans;
            }
            //console.log(ans);
            if (d < ans.length) {
                ans = insertString(ans, ".", d);
            }
            //console.log(ans);
            let c = parseInt(carry[0]);
            if (c > 0) {
                ans = "" + c + ans;
            }


            //console.log(na, nb, ans, carry);
            return ans;
            
        }
        function insertString(str, char, ind) {
            let st = str.slice(0, ind)
            let ans = st + char + str.slice(ind, str.length);
            return ans;
        }
        function sameEnds(no1, no2) {
            let decimal1 = no1.indexOf(".");
            let d1 = decimal1;
            if (decimal1 < 0) {
                d1 = no1.length;
                no1 += ".";
            }
            let decimal2 = no2.indexOf(".");
            let d2 = decimal2;
            if (decimal2 < 0) {
                d2 = no2.length;
                no2 += ".";
            }
            let dp1 = no1.length - d1 - 1;
            let dp2 = no2.length - d2 - 1;
            if (d1 < d2) {
                for (var i = 0; i < d2 - d1; i++) {
                    no1 = "0" + no1;
                }
            }
            if (d2 < d1) {
                for (var i = 0; i < d1 - d2; i++) {
                    no2 = "0" + no2;
                }
            }
            if (dp1 < dp2) {
                for (var i = 0; i < dp2 - dp1; i++) {
                    no1 += "0";
                }
            }
            if (dp2 < dp1) {
                for (var i = 0; i < dp1 - dp2; i++) {
                    no2 += "0";
                }
            }
            //console.log(d1, d2);
            //console.log(dp1, dp2);
            //console.log(no1, no2);
            return [no1, no2];
        }
        function divide(dividend, divisor, presicion = 200) {
            let remainder = dividend % divisor;
            let qoutient = (dividend - remainder) / divisor;
            let factor = 1;
            if (remainder != 0 && presicion > 0) {
                qoutient += ".";
                for (var i = 0; i < presicion; i++) {
                    remainder = remainder * 10;
                    factor *= 10;
                    let r = remainder % divisor;
                    let q = remainder - r;
                    remainder = r;
                    if (q == 0) {
                        qoutient += "0";
                        continue;
                    }
                    q /= divisor;
                    //console.log(q * factor);
                    qoutient += Math.floor(q);
                    if (r == 0) {
                        break;
                    }
                }
            }
            console.log(qoutient, remainder);
            return qoutient;
        }
    </script>    
</body>
</html>
