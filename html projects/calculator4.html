<!DOCTYPE html>
<html>
<head>
<title>Calculator: The third</title>
<style>
table, th, td {
  border: 1px solid black;
}
</style>
</head>
<body>
<h1><center>Calculator: The third version</center></h1>
<table>
<tr>
<td id="n1"> 0      </td>
<td id="sym">      </td>
<td id="n2"> 0     </td>
<td>=</td>
<td id="ans"> 0     </td>
</table><br><br>
<script>

var x = 0;
var y = 0;
var set = 1;
var a= 0;
var s=0;
document.addEventListener("keydown", function(event) {
  var k = event.key;
  var t = Number(k);
  if (k=="r") {
   document.getElementById("n1").innerHTML = 0;
   document.getElementById("n2").innerHTML = 0;
   document.getElementById("ans").innerHTML = 0;
   document.getElementById("sym").innerHTML = " ";
   x=0;
   y=0;
   a=0
   set=1;
   s=0;
  }
  if (k=="Enter") {
   if (s==1) {
    a=x/y;
   } else if (s==2) {
    a=x*y;
   } else if (s==3) {
    a=x-y;
   } else if (s==4) {
    a=x+y;
   } else if (s==5) {
    a=x**y;
   }
   document.getElementById("ans").innerHTML = a;
  }
  if (k=="ArrowRight") {
   set = 2;
  } else if (k=="ArrowLeft") {
   set = 1;
  }
  if (k=="/") {
   s=1;
   set=2;
   document.getElementById("sym").innerHTML = " / ";
  } else if (k=="*") {
   s=2;
   set=2;
   document.getElementById("sym").innerHTML = " * ";
  } else if (k=="-") {
   s=3;
   set=2;
   document.getElementById("sym").innerHTML = " - ";
  } else if (k=="+") {
   s=4;
   set=2;
   document.getElementById("sym").innerHTML = " + ";
  } else if (k=="^") {
   s=5;
   set=2;
   document.getElementById("sym").innerHTML = " ^ ";
  }
  if (set==1) {
   if (t>-1) { 
    x=t+(x*10);
    document.getElementById("n1").innerHTML = x;
   }
   if (k=="Backspace") {
    x=(x-(x%10))/10;
    document.getElementById("n1").innerHTML = x;
   }
  } else if (set==2) {
   if (t>-1) { 
    y=t+(y*10);
    document.getElementById("n2").innerHTML = y;
   }
   if (k=="Backspace") {
    y=(y-(y%10))/10;
    document.getElementById("n2").innerHTML = y;
   }
  } 
});
</script>
</body>
</html>
